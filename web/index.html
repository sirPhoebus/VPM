<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPM Image Recall Demo</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>üß† VPM Image Recall</h1>
            <p class="subtitle">Associative Memory Demonstration</p>
        </header>

        <div class="main-content">
            <div class="canvas-section">
                <div class="canvas-wrapper">
                    <canvas id="networkCanvas" width="320" height="320"></canvas>
                    <div class="canvas-label">Network State</div>
                </div>
                <div class="canvas-wrapper">
                    <canvas id="targetCanvas" width="320" height="320"></canvas>
                    <div class="canvas-label">Target Pattern</div>
                </div>
            </div>

            <div class="controls-section">
                <div class="control-group">
                    <h3>üì∑ Select Pattern</h3>
                    <div class="pattern-buttons">
                        <button class="pattern-btn" data-pattern="checkerboard">Checkerboard</button>
                        <button class="pattern-btn" data-pattern="diagonal">Diagonal</button>
                        <button class="pattern-btn" data-pattern="circle">Circle</button>
                        <button class="pattern-btn" data-pattern="cross">Cross</button>
                        <button class="pattern-btn" data-pattern="letter-a">Letter A</button>
                    </div>
                    <div class="upload-section">
                        <label for="imageUpload" class="upload-btn">
                            üìÅ Upload Image
                            <input type="file" id="imageUpload" accept="image/*">
                        </label>
                    </div>
                </div>

                <div class="control-group">
                    <h3>‚ö° Actions</h3>
                    <div class="action-buttons">
                        <button id="imprintBtn" class="action-btn primary" disabled>
                            <span class="icon">üíæ</span>
                            Store Pattern
                        </button>
                        <button id="shakeBtn" class="action-btn danger" disabled>
                            <span class="icon">üåÄ</span>
                            Chaos Shake
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h3>üìö Stored Patterns <span id="patternCount">(0)</span></h3>
                    <div id="patternLibrary" class="pattern-library">
                        <p class="empty-library">No patterns stored yet. Select a pattern and click "Store Pattern".</p>
                    </div>
                    <button id="clearLibraryBtn" class="action-btn small danger"
                        style="margin-top: 0.75rem; display: none;">
                        üóëÔ∏è Clear All
                    </button>
                </div>

                <div class="control-group">
                    <h3>üéöÔ∏è Settings</h3>
                    <div class="slider-group">
                        <label>Imprint Strength: <span id="strengthValue">5.0</span></label>
                        <input type="range" id="strengthSlider" min="1" max="20" step="0.5" value="5">
                    </div>
                    <div class="slider-group">
                        <label>Learning Rate: <span id="lrValue">0.05</span></label>
                        <input type="range" id="lrSlider" min="0.01" max="0.2" step="0.01" value="0.05">
                    </div>
                    <div class="slider-group">
                        <label>Imprint Steps: <span id="stepsValue">200</span></label>
                        <input type="range" id="stepsSlider" min="50" max="500" step="10" value="200">
                    </div>
                </div>

                <div class="status-panel">
                    <div class="status-item">
                        <span class="status-label">Mode:</span>
                        <span id="modeStatus" class="status-value">Idle</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Step:</span>
                        <span id="stepCount" class="status-value">0</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Similarity:</span>
                        <span id="similarity" class="status-value">--</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <h3>How it works</h3>
            <p>
                <strong>Imprint:</strong> The network learns the pattern by adjusting oscillator coupling weights.<br>
                <strong>Shake:</strong> Randomizes all oscillator phases, creating chaos.<br>
                <strong>Recall:</strong> The learned weights pull oscillators back toward the memorized pattern.
            </p>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>